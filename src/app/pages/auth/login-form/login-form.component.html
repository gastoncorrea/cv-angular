<div class="component">
    <div class="center-content">
        <div>
            <h3>{{ isRegisterMode ? 'REGISTRO' : 'LOGIN' }}</h3>
        </div>
        <div>
            <p>Completa los campos del formulario para {{ isRegisterMode ? 'registrar un nuevo usuario' : 'habilitar el modo de edición' }}</p>
        </div>
        <form [formGroup]="form" (ngSubmit)="sendLogin()">
            <!-- Nombre field, shown only in register mode -->
            <div *ngIf="isRegisterMode">
                <label for="nombreRegister">Nombre:</label>
                <input type="text" formControlName="nombre" id="nombreRegister" placeholder="Tu Nombre">
                <div *ngIf="Nombre?.errors && Nombre?.touched">
                    <p *ngIf="Nombre?.hasError('required')" class="error">
                        El nombre es obligatorio
                    </p>
                </div>
            </div>

            <div>
                <label for="emailLogin">Email:</label>
                <input type="email" formControlName="email" id="emailLogin" placeholder="user@proveedor">
            </div>
            <div *ngIf="Email?.errors && Email?.touched">
                <p *ngIf="Email?.hasError('required')" class="error">
                    Campo obligatorio
                </p>
                <p *ngIf="Email?.hasError('email')" class="error">
                    Ingresá un correo válido (ej: nombre@dominio.com)
                </p>
            </div>
            
            <div>
                <label for="passwordLogin">Password:</label>
                <input type="password" formControlName="password" id="passwordLogin">
            </div>
            <div *ngIf="Password?.errors && Password?.touched">
                <p *ngIf="Password?.hasError('required')" class="error">
                    Campo obligatorio
                </p>
            </div>
            
            <div>
                <button type="submit" [disabled]="form.invalid">
                    {{ isRegisterMode ? 'Registrar' : 'Iniciar Sesión' }}
                </button>
            </div>
        </form>

        <div class="toggle-mode">
            <button (click)="toggleMode()">
                {{ isRegisterMode ? '¿Ya tienes cuenta? Inicia Sesión' : '¿No tienes cuenta? Regístrate' }}
            </button>
        </div>
    </div>
</div>